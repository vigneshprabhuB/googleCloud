package com.test.tryyy;

import java.time.Month;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.json.JSONException;
import org.json.JSONObject;

public class SimpleTry {
	static int financialYearStartMonth=4;
	static int financialMonthBeforeCurrentMonth=2;
	static int financialMonthAfterCurrentMonth=0; 
	static int financialMonthTotalMonthDispaly=3;
	public static void main(String ar[]) {
		SimpleTry simpleTry=new SimpleTry();
		List<Integer>monthArray=simpleTry.bulidMonthArray(financialYearStartMonth);
		int currentMonth= new Date().getMonth()+1;
		int currentMonthIndex=monthArray.indexOf(currentMonth);
		System.out.println(currentMonthIndex);
		//to get data for the customer chart 
		/*if(currentMonthIndex>=2){
			//continu to qerry budget deatail
			System.out.println("getdata from budget dtl only");
		}else{
			//continu to qerry budget deatail
           //and get remaining month data's
			System.out.println("getdata from budget dtl only and from function");
		}*/
		
		simpleTry.getCustomerBudgetVisibleData(monthArray,financialMonthTotalMonthDispaly);
		
	}

	public List<Integer> bulidMonthArray(int financialStartMonth) {
		int staryMont = financialStartMonth;
		int monthArraySize = 0;
		List<Integer> totalMonths = new ArrayList<Integer>();
		while (monthArraySize <= 11) {
			if (staryMont <= 12) {
				totalMonths.add(staryMont);
				staryMont++;
				monthArraySize++;
			}
			if (staryMont > 12) {
				totalMonths.add(staryMont - 12);
				staryMont++;
				monthArraySize++;
			}

		}
		
		return totalMonths;

	}

	
	public void getCustomerBudgetVisibleData(List<Integer> motthArray,int totalMonthDisplayed) throws JSONException{
	List<Integer>monthToBeDiaplayed=new ArrayList<Integer>();	
	int currentMonth=new Date().getMonth()+1;
	int currentMonthIndex=motthArray.indexOf(currentMonth);
	int currentMonthIndexEx=motthArray.size();
	
	//get month to be displayed baseed on totalMonthDisplayed
	while(totalMonthDisplayed>=1){
	if((currentMonthIndex) >=0){
		monthToBeDiaplayed.add(motthArray.get(currentMonthIndex));
		totalMonthDisplayed--;
		currentMonthIndex--;
	}else{
		monthToBeDiaplayed.add(motthArray.get(currentMonthIndexEx-1));
		totalMonthDisplayed--;
		currentMonthIndexEx--;
	}
	}
	JSONObject monthDisplayOutput=new JSONObject();
	for(int i=0;i<12;i++){
		String month=Month.of(i+1).toString().toLowerCase();
	
			monthDisplayOutput.put(month,monthToBeDiaplayed.indexOf(i+1)>=0 ? true:false);
		
		
		
	}
	System.out.println(monthDisplayOutput);
	}
	
}
